{"version":3,"sources":["../../../../scripts/content/instagram/main.js"],"names":["jQuery","document","ready","$","btn_html","$btn","click","event","preventDefault","chrome","runtime","sendMessage","action","source","url","attr","on","find","prepend","href","length","addClass","hasClass","removeClass","show","hide","stopPropagation","$img","$source"],"mappings":"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","file":"main.js","sourcesContent":["jQuery(document).ready(function ($) {\r\n    let btn_html = '<a class=\"action-button\" style=\"display: none;\">â¤µ</a>';\r\n    let $btn = $(btn_html);\r\n    $btn.click(function (event) {\r\n        event.preventDefault();\r\n        chrome.runtime.sendMessage(\r\n            {\r\n                action: 'download',\r\n                source: 'instagram',\r\n                url: $(this).attr('href')\r\n            });\r\n    });\r\n    $(document).on('mouseover', '._sxolz', function () {         //mouseover img or video\r\n        //adding btn\r\n        $(this).find('div:not([class]):not(:has(.action-button)):last')\r\n            .prepend($btn);\r\n        //\r\n        let href = 'javascript:void(0)';\r\n        if ($(this).find('div[class^=\"_e3il2 \"]').length > 0) { //is img\r\n            href = $(this).find('img').attr('src');\r\n            $btn.addClass('easyinsta-image');\r\n            if ($btn.hasClass('easyinsta-video')) {\r\n                $btn.removeClass('easyinsta-video');\r\n            }\r\n        } else { //is video\r\n            href = $(this).find('video').attr('src');\r\n            $btn.addClass('easyinsta-video');\r\n            if ($btn.hasClass('easyinsta-image')) {\r\n                $btn.removeClass('easyinsta-image');\r\n            }\r\n        }\r\n        $btn.attr({\r\n            'href': href,\r\n            'download': \"\",\r\n            'title': `Download this ${$btn.hasClass('easyinsta-image') ? 'Image' : 'Video'}`\r\n        });\r\n        if ($btn.attr('href') !== \"javascript:void(0)\") {\r\n            $btn.show();\r\n        }\r\n    }).on('mouseout', '._sxolz', function () {\r\n        $(this).find('.action-button').hide();\r\n    }).on('mouseover', 'a[class*=\"coreSprite\"]', function (event) {     //mouseover next/back picture btn\r\n        event.stopPropagation();\r\n    }).on('mouseover', 'a[class*=\"videoSprite\"]', function (event) {    //mouseover play video btn\r\n        /**\r\n         *  _v7u5u _pqxoc videoSpritePlayButton\r\n         *  _v7u5u _pqxoc _75c7w videoSpritePlayButton\r\n         */\r\n        //if visible\r\n        if ($(this).hasClass('_75c7w')) {\r\n            event.stopPropagation();\r\n        }\r\n    }).on('mouseover', '._r1f36, ._te9am', function () {    //mouseover story\r\n        //adding btn\r\n        $(this).find('._jtktu:not(:has(.action-button))')\r\n            .prepend($btn);\r\n        let href = 'javascript:void(0)',\r\n            $img = $(this).find(\"img\"),\r\n            $source = $(this).find(\"source:first\");\r\n        if ($source.length > 0) {\r\n            href = $source.attr('src');        //avc1.4D401E vs avc1.42E01E\r\n            $btn.addClass('easyinsta-video');\r\n        } else {\r\n            href = $img.attr('src');\r\n            $btn.addClass('easyinsta-image');\r\n        }\r\n        $btn.attr({\r\n            'href': href,\r\n            'download': \"\",\r\n            'title': `Download this ${$btn.hasClass('easyinsta-image') ? 'Image' : 'Video'}`\r\n        });\r\n        if ($btn.attr('href') !== \"javascript:void(0)\") {\r\n            $btn.show();\r\n        }\r\n    }).on('mouseout', '._r1f36, ._te9am', function () {\r\n        $(this).find('.action-button:first').hide();\r\n    });\r\n});\r\n"]}